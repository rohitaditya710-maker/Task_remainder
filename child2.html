<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Voice Daily Board</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #f4f7f6;
            --primary: #6c5ce7;
            --accent: #ff85a2;
            --card: #ffffff;
            --text: #2d3436;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: 'Outfit', sans-serif;
            background-color: var(--bg);
            margin: 0;
            padding: 15px;
            color: var(--text);
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        header {
            width: 100%;
            max-width: 600px;
            padding: 10px 0 20px 0;
            text-align: center;
        }

        h1 { margin: 0; font-size: 1.8rem; color: var(--primary); font-weight: 800; }
        
        /* The Main Board */
        #mainBoard {
            width: 100%;
            max-width: 600px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            padding-bottom: 100px; /* Space for the save button */
        }

        .day-section {
            background: var(--card);
            border-radius: 25px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.04);
            border-left: 8px solid #eee;
        }

        .day-section.today {
            border-left-color: var(--primary);
            background: #fdfcff;
        }

        .day-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .day-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--text);
        }

        .today-badge {
            background: var(--primary);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.7rem;
            text-transform: uppercase;
        }

        .task-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .task-row {
            display: grid;
            grid-template-columns: 1fr 100px 30px;
            gap: 8px;
            align-items: center;
        }

        input {
            border: 1.5px solid #f0f0f0;
            background: #fafafa;
            padding: 12px;
            border-radius: 12px;
            font-size: 16px;
            outline: none;
            transition: 0.3s;
        }

        input:focus { border-color: var(--primary); background: #fff; }

        .btn-add {
            background: none;
            border: 2px dashed #ddd;
            color: #aaa;
            padding: 10px;
            border-radius: 12px;
            margin-top: 10px;
            cursor: pointer;
            font-weight: 600;
        }

        .delete-btn {
            background: none;
            border: none;
            color: #ff7675;
            font-size: 1.2rem;
            cursor: pointer;
        }

        /* Floating Save Button */
        .footer-actions {
            position: fixed;
            bottom: 20px;
            width: calc(100% - 40px);
            max-width: 560px;
            display: flex;
            gap: 10px;
        }

        .btn-save {
            flex: 1;
            background: var(--primary);
            color: white;
            border: none;
            padding: 18px;
            border-radius: 20px;
            font-size: 1.1rem;
            font-weight: 700;
            box-shadow: 0 10px 25px rgba(108, 92, 231, 0.4);
            cursor: pointer;
        }

        .btn-clear {
            background: white;
            color: #ff7675;
            border: 2px solid #ff7675;
            padding: 18px;
            border-radius: 20px;
            cursor: pointer;
        }
    </style>
</head>
<body>

<header>
    <h1>‚ú® Weekly Voice Board</h1>
</header>

<div id="mainBoard">
    </div>

<div class="footer-actions">
    <button class="btn-clear" onclick="clearEverything()">üóëÔ∏è</button>
    <button class="btn-save" onclick="saveAll()">Save & Activate Voice</button>
</div>

<script>
    const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];
    const synth = window.speechSynthesis;
    const currentDayName = new Intl.DateTimeFormat('en-US', { weekday: 'long' }).format(new Date());

    function initBoard() {
        const board = document.getElementById('mainBoard');
        board.innerHTML = '';

        days.forEach(day => {
            const isToday = day === currentDayName;
            const savedData = JSON.parse(localStorage.getItem(day)) || [];
            
            const section = document.createElement('div');
            section.className = `day-section ${isToday ? 'today' : ''}`;
            section.id = `section-${day}`;
            
            section.innerHTML = `
                <div class="day-header">
                    <span class="day-title">${day}</span>
                    ${isToday ? '<span class="today-badge">Today</span>' : ''}
                </div>
                <div class="task-list" id="list-${day}">
                    </div>
                <button class="btn-add" onclick="addTaskRow('${day}')">Ôºã Add Task to ${day}</button>
            `;
            
            board.appendChild(section);

            // Populate existing tasks
            if(savedData.length > 0) {
                savedData.forEach(task => addTaskRow(day, task.text, task.time));
            } else {
                addTaskRow(day); // One empty row by default
            }
        });
    }

    function addTaskRow(day, text = "", time = "") {
        const container = document.getElementById(`list-${day}`);
        const div = document.createElement('div');
        div.className = 'task-row';
        div.innerHTML = `
            <input type="text" class="t-txt" placeholder="Action..." value="${text}">
            <input type="time" class="t-tm" value="${time}">
            <button class="delete-btn" onclick="this.parentElement.remove()">‚úï</button>
        `;
        container.appendChild(div);
    }

    function saveAll() {
        days.forEach(day => {
            const tasks = [];
            const rows = document.querySelectorAll(`#list-${day} .task-row`);
            rows.forEach(row => {
                const txt = row.querySelector('.t-txt').value;
                const tm = row.querySelector('.t-tm').value;
                if(txt && tm) tasks.push({ text: txt, time: tm });
            });
            localStorage.setItem(day, JSON.stringify(tasks));
        });

        speak("All schedules saved. Your weekly voice assistant is active.");
        alert("Schedules Saved!");
    }

    function clearEverything() {
        if(confirm("Wipe all days?")) {
            localStorage.clear();
            initBoard();
        }
    }

    function speak(phrase) {
        if (synth.speaking) synth.cancel(); 
        const msg = new SpeechSynthesisUtterance(phrase);
        msg.pitch = 1.1;
        msg.rate = 0.95;
        synth.speak(msg);
    }

    // Initialize the app
    initBoard();

    // Voice Engine (Checks every 30 seconds)
    setInterval(() => {
        const now = new Date();
        const currentDay = days[now.getDay() === 0 ? 6 : now.getDay() - 1];
        const currentTime = now.toTimeString().substring(0, 5);
        
        const tasks = JSON.parse(localStorage.getItem(currentDay)) || [];
        tasks.forEach(t => {
            if(t.time === currentTime) {
                speak(`Attention: It is time to ${t.text}`);
            }
        });
    }, 30000);

</script>
</body>
</html>
